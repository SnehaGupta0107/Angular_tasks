{"ast":null,"code":"\"use strict\";\n\nvar tagCommentId = 0;\nvar commentText = \"\";\nvar taggingTabId = 0;\nchrome.runtime.onMessage.addListener(function (message, sender, sendResponse) {\n  if (message.action === \"tagComment\") {\n    console.log(\"inside\");\n    var welcomePostUrlArray = new Array();\n    var welcomePostUrl = message.welcomePostUrl;\n    commentText = message.commentText;\n    if (welcomePostUrl.indexOf('permalink.php?') > -1) {\n      welcomePostUrlArray = welcomePostUrl.split('story_fbid=');\n      welcomePostUrlArray = welcomePostUrlArray[1].split('&');\n      welcomePostUrl = welcomePostUrlArray[0];\n    }\n    welcomePostUrl = \"290857076662937\";\n    var welcomePostTagComment = 'https://d.facebook.com/mbasic/comment/advanced/?target_id=' + welcomePostUrl + '&pap&at=compose&photo_comments' + \"oneString\" + '&is_from_friend_selector=1&_rdr';\n    commentTaggingWindow(welcomePostTagComment);\n  }\n});\nfunction taggingTabListener(tabId, changeInfo, tab) {\n  console.log(\"taggingTabListener\");\n  if (changeInfo.status === \"complete\" && tabId === taggingTabId) {\n    chrome.tabs.sendMessage(taggingTabId, {\n      type: 'triggerTagging',\n      from: 'background',\n      commentText: commentText\n    });\n    chrome.tabs.onUpdated.removeListener(taggingTabListener);\n  }\n}\nfunction commentTaggingWindow(url) {\n  chrome.windows.create({\n    url: url,\n    focused: true,\n    type: \"popup\"\n  }, function (tabs) {\n    var taggingTabId = tabs.tabs[0].id;\n    chrome.tabs.onUpdated.addListener(taggingTabListener);\n  });\n}","map":null,"metadata":{},"sourceType":"script","externalDependencies":[]}